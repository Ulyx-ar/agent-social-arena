'use strict';

var types = require('./types.cjs');

const makeGetHeliusStakeAccounts = ({ rpc, }) => {
    return async (wallet) => {
        const walletStr = wallet.toString();
        const accounts = await rpc
            .getProgramAccounts(types.STAKE_PROGRAM_ID, {
            encoding: "jsonParsed",
            filters: [
                {
                    memcmp: {
                        offset: 44n,
                        bytes: walletStr,
                        encoding: "base58",
                    },
                },
            ],
        })
            .send();
        return accounts.filter((acc) => acc.account?.data?.parsed?.info?.stake?.delegation?.voter ===
            types.HELIUS_VALIDATOR_ID);
    };
};

exports.makeGetHeliusStakeAccounts = makeGetHeliusStakeAccounts;
//# sourceMappingURL=getHeliusStakeAccounts.cjs.map
