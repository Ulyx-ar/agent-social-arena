{"version":3,"file":"caller.js","sources":["../../../../src/rpc/caller.ts"],"sourcesContent":["import type { RpcTransport } from \"@solana/kit\";\n\nexport type RpcCaller = <P, R>(method: string, params: P) => Promise<R>;\n\nexport const makeRpcCaller =\n  (transport: RpcTransport): RpcCaller =>\n  async (method, params) => {\n    const res = (await transport({\n      payload: {\n        jsonrpc: \"2.0\",\n        id: \"helius-sdk\",\n        method,\n        params,\n      },\n    })) as any;\n\n    if (res?.error) {\n      throw new Error(\n        `RPC error (${method}): ${res.error?.message ?? JSON.stringify(res.error)}`\n      );\n    }\n    return (res.result ?? res) as any;\n  };\n"],"names":[],"mappings":"AAIO,MAAM,aAAa,GACxB,CAAC,SAAuB,KACxB,OAAO,MAAM,EAAE,MAAM,KAAI;AACvB,IAAA,MAAM,GAAG,IAAI,MAAM,SAAS,CAAC;AAC3B,QAAA,OAAO,EAAE;AACP,YAAA,OAAO,EAAE,KAAK;AACd,YAAA,EAAE,EAAE,YAAY;YAChB,MAAM;YACN,MAAM;AACP,SAAA;AACF,KAAA,CAAC,CAAQ;AAEV,IAAA,IAAI,GAAG,EAAE,KAAK,EAAE;QACd,MAAM,IAAI,KAAK,CACb,CAAA,WAAA,EAAc,MAAM,CAAA,GAAA,EAAM,GAAG,CAAC,KAAK,EAAE,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA,CAAE,CAC5E;IACH;AACA,IAAA,QAAQ,GAAG,CAAC,MAAM,IAAI,GAAG;AAC3B;;;;"}