{"version":3,"file":"createHelius.eager.js","sources":["../../../../src/rpc/createHelius.eager.ts"],"sourcesContent":["import {\n  createDefaultRpcTransport,\n  createRpc,\n  createSolanaRpcApi,\n  DEFAULT_RPC_CONFIG,\n  Rpc,\n  SolanaRpcApi,\n} from \"@solana/kit\";\nimport { wrapAutoSend } from \"./wrapAutoSend\";\nimport { makeRpcCaller } from \"./caller\";\n\nimport { GetAssetFn, makeGetAsset } from \"./methods/getAsset\";\nimport { GetAssetBatchFn, makeGetAssetBatch } from \"./methods/getAssetBatch\";\nimport { GetAssetProofFn, makeGetAssetProof } from \"./methods/getAssetProof\";\nimport {\n  GetAssetProofBatchFn,\n  makeGetAssetProofBatch,\n} from \"./methods/getAssetProofBatch\";\nimport {\n  GetAssetsByAuthorityFn,\n  makeGetAssetsByAuthority,\n} from \"./methods/getAssetsByAuthority\";\nimport {\n  GetAssetsByCreatorFn,\n  makeGetAssetsByCreator,\n} from \"./methods/getAssetsByCreator\";\nimport {\n  GetAssetsByGroupFn,\n  makeGetAssetsByGroup,\n} from \"./methods/getAssetsByGroup\";\nimport {\n  GetPriorityFeeEstimateFn,\n  makeGetPriorityFeeEstimate,\n} from \"./methods/getPriorityFeeEstimate\";\n\nimport {\n  makeWebhookClientEager,\n  type WebhookClient,\n} from \"../webhooks/client.eager\";\nimport {\n  GetAssetsByOwnerFn,\n  makeGetAssetsByOwner,\n} from \"./methods/getAssetsByOwner\";\nimport { GetNftEditionsFn, makeGetNftEditions } from \"./methods/getNftEditions\";\nimport {\n  GetSignaturesForAssetFn,\n  makeGetSignaturesForAsset,\n} from \"./methods/getSignaturesForAsset\";\nimport {\n  GetTokenAccountsFn,\n  makeGetTokenAccounts,\n} from \"./methods/getTokenAccounts\";\nimport { makeSearchAssets, SearchAssetsFn } from \"./methods/searchAssets\";\nimport {\n  EnhancedTxClient,\n  makeEnhancedTxClientEager,\n} from \"../enhanced/client.eager\";\nimport { ResolvedHeliusRpcApi } from \"./heliusRpcApi\";\nimport {\n  makeTxHelpersEager,\n  TxHelpersEager,\n} from \"../transactions/client.eager\";\nimport {\n  GetProgramAccountsV2Fn,\n  makeGetProgramAccountsV2,\n} from \"./methods/getProgramAccountsV2\";\nimport {\n  GetAllProgramAccountsFn,\n  makeGetAllProgramAccounts,\n} from \"./methods/getAllProgramAccounts\";\nimport {\n  GetTokenAccountsByOwnerV2Fn,\n  makeGetTokenAccountsByOwnerV2,\n} from \"./methods/getTokenAccountsByOwnerV2\";\nimport {\n  GetAllTokenAccountsByOwnerFn,\n  makeGetAllTokenAccountsByOwner,\n} from \"./methods/getAllTokenAccountsByOwner\";\nimport {\n  GetTransactionsForAddressFn,\n  makeGetTransactionsForAddress,\n} from \"./methods/getTransactionsForAddress\";\n\nexport interface HeliusClientEager {\n  raw: ResolvedHeliusRpcApi;\n\n  getAsset: GetAssetFn;\n  getAssetBatch: GetAssetBatchFn;\n  getAssetProof: GetAssetProofFn;\n  getAssetProofBatch: GetAssetProofBatchFn;\n  getAssetsByAuthority: GetAssetsByAuthorityFn;\n  getAssetsByCreator: GetAssetsByCreatorFn;\n  getAssetsByGroup: GetAssetsByGroupFn;\n  getAssetsByOwner: GetAssetsByOwnerFn;\n  getNftEditions: GetNftEditionsFn;\n  getSignaturesForAsset: GetSignaturesForAssetFn;\n  getTokenAccounts: GetTokenAccountsFn;\n  searchAssets: SearchAssetsFn;\n\n  getPriorityFeeEstimate: GetPriorityFeeEstimateFn;\n\n  getProgramAccountsV2: GetProgramAccountsV2Fn;\n  getAllProgramAccounts: GetAllProgramAccountsFn;\n  getTokenAccountsByOwnerV2: GetTokenAccountsByOwnerV2Fn;\n  getAllTokenAccountsByOwner: GetAllTokenAccountsByOwnerFn;\n  getTransactionsForAddress: GetTransactionsForAddressFn;\n\n  webhooks: WebhookClient;\n\n  enhanced: EnhancedTxClient;\n\n  tx: TxHelpersEager;\n}\n\nexport type HeliusRpcOptions = {\n  apiKey: string;\n  network?: \"mainnet\" | \"devnet\";\n  rebateAddress?: string;\n};\n\nexport const createHeliusEager = ({\n  apiKey,\n  network = \"mainnet\",\n  rebateAddress,\n}: HeliusRpcOptions): HeliusClientEager => {\n  const rebateParam = rebateAddress ? `&rebate-address=${rebateAddress}` : \"\";\n  const url = `https://${network}.helius-rpc.com/?api-key=${apiKey}${rebateParam}`;\n\n  const solanaApi = createSolanaRpcApi(DEFAULT_RPC_CONFIG);\n  const transport = createDefaultRpcTransport({ url });\n\n  let baseRpc = createRpc({ api: solanaApi, transport });\n  // Cast to any because I cba to go down this type rabbit hole\n  const raw = wrapAutoSend(baseRpc) as any;\n\n  const call = makeRpcCaller(transport);\n\n  return {\n    raw,\n\n    // DAS\n    getAsset: makeGetAsset(call),\n    getAssetBatch: makeGetAssetBatch(call),\n    getAssetProof: makeGetAssetProof(call),\n    getAssetProofBatch: makeGetAssetProofBatch(call),\n    getAssetsByAuthority: makeGetAssetsByAuthority(call),\n    getAssetsByCreator: makeGetAssetsByCreator(call),\n    getAssetsByGroup: makeGetAssetsByGroup(call),\n    getAssetsByOwner: makeGetAssetsByOwner(call),\n    getNftEditions: makeGetNftEditions(call),\n    getTokenAccounts: makeGetTokenAccounts(call),\n    getSignaturesForAsset: makeGetSignaturesForAsset(call),\n    searchAssets: makeSearchAssets(call),\n\n    // Priority Fee API\n    getPriorityFeeEstimate: makeGetPriorityFeeEstimate(call),\n\n    // V2 methods\n    getProgramAccountsV2: makeGetProgramAccountsV2(call),\n    getAllProgramAccounts: makeGetAllProgramAccounts(call),\n    getTokenAccountsByOwnerV2: makeGetTokenAccountsByOwnerV2(call),\n    getAllTokenAccountsByOwner: makeGetAllTokenAccountsByOwner(call),\n    getTransactionsForAddress: makeGetTransactionsForAddress(call),\n\n    // Webhooks\n    webhooks: makeWebhookClientEager(apiKey),\n\n    // Enhanced Transactions\n    enhanced: makeEnhancedTxClientEager(apiKey, network),\n\n    // Transaction helpers\n    tx: makeTxHelpersEager(baseRpc as unknown as Rpc<SolanaRpcApi>),\n  };\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwHO,MAAM,iBAAiB,GAAG,CAAC,EAChC,MAAM,EACN,OAAO,GAAG,SAAS,EACnB,aAAa,GACI,KAAuB;AACxC,IAAA,MAAM,WAAW,GAAG,aAAa,GAAG,CAAA,gBAAA,EAAmB,aAAa,CAAA,CAAE,GAAG,EAAE;IAC3E,MAAM,GAAG,GAAG,CAAA,QAAA,EAAW,OAAO,4BAA4B,MAAM,CAAA,EAAG,WAAW,CAAA,CAAE;AAEhF,IAAA,MAAM,SAAS,GAAG,kBAAkB,CAAC,kBAAkB,CAAC;IACxD,MAAM,SAAS,GAAG,yBAAyB,CAAC,EAAE,GAAG,EAAE,CAAC;AAEpD,IAAA,IAAI,OAAO,GAAG,SAAS,CAAC,EAAE,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;;AAEtD,IAAA,MAAM,GAAG,GAAG,YAAY,CAAC,OAAO,CAAQ;AAExC,IAAA,MAAM,IAAI,GAAG,aAAa,CAAC,SAAS,CAAC;IAErC,OAAO;QACL,GAAG;;AAGH,QAAA,QAAQ,EAAE,YAAY,CAAC,IAAI,CAAC;AAC5B,QAAA,aAAa,EAAE,iBAAiB,CAAC,IAAI,CAAC;AACtC,QAAA,aAAa,EAAE,iBAAiB,CAAC,IAAI,CAAC;AACtC,QAAA,kBAAkB,EAAE,sBAAsB,CAAC,IAAI,CAAC;AAChD,QAAA,oBAAoB,EAAE,wBAAwB,CAAC,IAAI,CAAC;AACpD,QAAA,kBAAkB,EAAE,sBAAsB,CAAC,IAAI,CAAC;AAChD,QAAA,gBAAgB,EAAE,oBAAoB,CAAC,IAAI,CAAC;AAC5C,QAAA,gBAAgB,EAAE,oBAAoB,CAAC,IAAI,CAAC;AAC5C,QAAA,cAAc,EAAE,kBAAkB,CAAC,IAAI,CAAC;AACxC,QAAA,gBAAgB,EAAE,oBAAoB,CAAC,IAAI,CAAC;AAC5C,QAAA,qBAAqB,EAAE,yBAAyB,CAAC,IAAI,CAAC;AACtD,QAAA,YAAY,EAAE,gBAAgB,CAAC,IAAI,CAAC;;AAGpC,QAAA,sBAAsB,EAAE,0BAA0B,CAAC,IAAI,CAAC;;AAGxD,QAAA,oBAAoB,EAAE,wBAAwB,CAAC,IAAI,CAAC;AACpD,QAAA,qBAAqB,EAAE,yBAAyB,CAAC,IAAI,CAAC;AACtD,QAAA,yBAAyB,EAAE,6BAA6B,CAAC,IAAI,CAAC;AAC9D,QAAA,0BAA0B,EAAE,8BAA8B,CAAC,IAAI,CAAC;AAChE,QAAA,yBAAyB,EAAE,6BAA6B,CAAC,IAAI,CAAC;;AAG9D,QAAA,QAAQ,EAAE,sBAAsB,CAAC,MAAM,CAAC;;AAGxC,QAAA,QAAQ,EAAE,yBAAyB,CAAC,MAAM,EAAE,OAAO,CAAC;;AAGpD,QAAA,EAAE,EAAE,kBAAkB,CAAC,OAAuC,CAAC;KAChE;AACH;;;;"}