import { estimateComputeUnitLimitFactory } from '@solana-program/compute-budget';

const makeGetComputeUnits = (raw) => {
    const estimateFn = estimateComputeUnitLimitFactory({
        rpc: raw,
    });
    return async (message, { min = 1000, bufferPct = 0.1 } = {}) => {
        const rawUnits = await estimateFn(message);
        const units = Number(rawUnits);
        return Math.max(min, Math.ceil(units * (1 + bufferPct)));
    };
};

export { makeGetComputeUnits };
//# sourceMappingURL=getComputeUnits.js.map
