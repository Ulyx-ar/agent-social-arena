import { TransactionVersion, Address, TransactionSigner, Instruction, Blockhash, Commitment, BaseTransactionMessage, TransactionMessageWithFeePayer, Rpc, SolanaRpcApi, signTransactionMessageWithSigners, RpcSubscriptions, SolanaRpcSubscriptionsApi, Signature, Base64EncodedWireTransaction } from "@solana/kit";
import { GetPriorityFeeEstimateFn } from "../rpc/methods/getPriorityFeeEstimate";
import { GetComputeUnitsFn } from "./getComputeUnits";
export interface GetComputeUnitsOpts {
    min?: number;
    bufferPct?: number;
}
export type SignedTx = Awaited<ReturnType<typeof signTransactionMessageWithSigners>>;
export type BlockhashLifetime = Readonly<{
    blockhash: Blockhash;
    lastValidBlockHeight: bigint;
}>;
export type CreateTxMessageInput = Readonly<{
    version: TransactionVersion;
    feePayer: Address | TransactionSigner<string>;
    lifetime?: BlockhashLifetime;
    instructions: readonly Instruction<string, readonly any[]>[];
}>;
export type CreateSmartTxInput = Readonly<{
    /** All required signers. First signer is the default fee‑payer. */
    signers: readonly TransactionSigner<string>[];
    /** Program instructions (no compute‑budget ixs needed — we’ll add them). */
    instructions: readonly Instruction<string, readonly any[]>[];
    /** Optional fee‑payer override (Address or TransactionSigner). */
    feePayer?: Address | TransactionSigner<string>;
    /** Tx version. Default: 0. */
    version?: TransactionVersion;
    /** Optional cap (µ‑lamports per CU) applied to Helius’ recommendation. */
    priorityFeeCap?: number;
    /** CU floor & simulation buffer. Defaults: 1_000 / 10%. */
    minUnits?: number;
    bufferPct?: number;
    /** Commitment for fetching the blockhash. Default: "confirmed". */
    commitment?: Commitment;
}>;
export type CreateSmartTxResult = Readonly<{
    /** Final signed transaction (ready to send). */
    signed: SignedTx;
    /** Base‑64 wire transaction of the final signed tx. */
    base64: string;
    /** Final compute‑unit limit set by the SDK. */
    units: number;
    /** Final microLamports‑per‑CU set by the SDK. */
    priorityFee: number;
    /** Final blockhash + lastValidBlockHeight used for the message. */
    lifetime: BlockhashLifetime;
    /** Final message (after compute‑budget ixs are prepended). */
    message: BaseTransactionMessage & TransactionMessageWithFeePayer;
}>;
export type CreateSmartTxDeps = Readonly<{
    raw: Rpc<SolanaRpcApi>;
    getComputeUnits: GetComputeUnitsFn;
    getPriorityFeeEstimate: GetPriorityFeeEstimateFn;
}>;
export type CreateSmartTransactionFn = (args: CreateSmartTxInput) => Promise<CreateSmartTxResult>;
export type SendSmartTransactionInput = CreateSmartTxInput & {
    /** Confirmation commitment for the send+confirm step. Default: "confirmed". */
    confirmCommitment?: Commitment;
    /** Forwarded to sendAndConfirm; default 0n. */
    maxRetries?: bigint;
    /** Forwarded to sendAndConfirm; default true. */
    skipPreflight?: boolean;
};
export type SendSmartTransactionFn = (args: SendSmartTransactionInput) => Promise<string>;
export type SendSmartTxDeps = Readonly<{
    raw: Rpc<SolanaRpcApi>;
    /** Optional but recommended — enables WS-backed confirmation */
    rpcSubscriptions?: RpcSubscriptions<SolanaRpcSubscriptionsApi>;
    /** We compose on top of the creator to reuse your smart build/sign logic */
    createSmartTransaction: CreateSmartTransactionFn;
}>;
export interface BroadcastOptions {
    lastValidBlockHeightOffset?: number;
    pollTimeoutMs?: number;
    pollIntervalMs?: number;
    skipPreflight?: boolean;
    maxRetries?: bigint;
    commitment?: "processed" | "confirmed" | "finalized";
}
export interface PollTxOptions {
    confirmationStatuses?: ("processed" | "confirmed" | "finalized")[];
    timeout?: number;
    interval?: number;
    lastValidBlockHeight?: bigint | number;
}
export type PollTransactionConfirmationFn = (signature: Signature, options?: PollTxOptions) => Promise<Signature>;
export type BroadcastTransactionFn = (wireTx64: string | Base64EncodedWireTransaction, options?: BroadcastOptions) => Promise<string>;
export declare const SENDER_ENDPOINTS: {
    readonly Default: "https://sender.helius-rpc.com";
    readonly US_SLC: "http://slc-sender.helius-rpc.com";
    readonly US_EAST: "http://ewr-sender.helius-rpc.com";
    readonly EU_WEST: "http://lon-sender.helius-rpc.com";
    readonly EU_CENTRAL: "http://fra-sender.helius-rpc.com";
    readonly EU_NORTH: "http://ams-sender.helius-rpc.com";
    readonly AP_SINGAPORE: "http://sg-sender.helius-rpc.com";
    readonly AP_TOKYO: "http://tyo-sender.helius-rpc.com";
};
export type SenderRegion = keyof typeof SENDER_ENDPOINTS;
export declare const senderFastUrl: (region: SenderRegion) => string;
export declare const senderPingUrl: (region: SenderRegion) => string;
export interface CreateSmartTxWithTipInput extends CreateSmartTxInput {
    tipAmount?: number;
}
export type CreateSmartTransactionWithTipFn = (args: CreateSmartTxWithTipInput) => Promise<CreateSmartTxResult>;
export interface SendViaSenderOptions {
    region: SenderRegion;
    swqosOnly?: boolean;
    pollTimeoutMs?: number;
    pollIntervalMs?: number;
    tipAmount?: number;
}
export type SendTransactionWithSenderFn = (args: Omit<CreateSmartTxWithTipInput, "tipAmount"> & SendViaSenderOptions) => Promise<string>;
export interface SendSmartTxSenderDeps {
    raw: Rpc<SolanaRpcApi>;
    createSmartTransactionWithTip: (i: CreateSmartTxWithTipInput) => Promise<CreateSmartTxResult>;
}
export declare const SENDER_TIP_ACCOUNTS: Address[];
export declare const MIN_TIP_LAMPORTS_DUAL = 1000000n;
export declare const MIN_TIP_LAMPORTS_SWQOS = 500000n;
export interface HeliusSendOptions {
    skipPreflight?: boolean;
    maxRetries?: number;
    minContextSlot?: number;
    preflightCommitment?: string;
    validatorAcls?: string[];
}
export type SendableTransaction = Base64EncodedWireTransaction | {
    serialize(): Uint8Array;
} | {
    base64: string;
} | {
    signed: unknown;
};
export type SendTransactionFn = (tx: SendableTransaction, opts?: HeliusSendOptions) => Promise<Signature>;
export declare const SFDP_REJECTS_URL = "https://helius-docs.s3.us-east-2.amazonaws.com/sfdp_rejects.json";
//# sourceMappingURL=types.d.ts.map