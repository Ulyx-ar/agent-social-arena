{"version":3,"file":"createWebhook.js","sources":["../../../../src/webhooks/createWebhook.ts"],"sourcesContent":["import type { CreateWebhookRequest, Webhook } from \"../types/webhooks\";\nimport { SDK_USER_AGENT } from \"../http\";\n\nexport const createWebhook = async (\n  apiKey: string,\n  params: CreateWebhookRequest\n): Promise<Webhook> => {\n  const url = `https://api.helius.xyz/v0/webhooks?api-key=${apiKey}`;\n\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": SDK_USER_AGENT,\n    },\n    body: JSON.stringify(params),\n  });\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n  }\n\n  const data = await response.json();\n\n  if (data.error) {\n    throw new Error(`Helius error: ${JSON.stringify(data.error)}`);\n  }\n\n  return data as Webhook;\n};\n"],"names":[],"mappings":";;AAGO,MAAM,aAAa,GAAG,OAC3B,MAAc,EACd,MAA4B,KACR;AACpB,IAAA,MAAM,GAAG,GAAG,CAAA,2CAAA,EAA8C,MAAM,EAAE;AAElE,IAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;AAChC,QAAA,MAAM,EAAE,MAAM;AACd,QAAA,OAAO,EAAE;AACP,YAAA,cAAc,EAAE,kBAAkB;AAClC,YAAA,YAAY,EAAE,cAAc;AAC7B,SAAA;AACD,QAAA,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;AAC7B,KAAA,CAAC;AAEF,IAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,QAAA,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;QACvC,MAAM,IAAI,KAAK,CAAC,CAAA,oBAAA,EAAuB,QAAQ,CAAC,MAAM,CAAA,GAAA,EAAM,SAAS,CAAA,CAAE,CAAC;IAC1E;AAEA,IAAA,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AAElC,IAAA,IAAI,IAAI,CAAC,KAAK,EAAE;AACd,QAAA,MAAM,IAAI,KAAK,CAAC,CAAA,cAAA,EAAiB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,CAAE,CAAC;IAChE;AAEA,IAAA,OAAO,IAAe;AACxB;;;;"}