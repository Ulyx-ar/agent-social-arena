{"version":3,"file":"deleteWebhook.js","sources":["../../../../src/webhooks/deleteWebhook.ts"],"sourcesContent":["import { SDK_USER_AGENT } from \"../http\";\n\nexport const deleteWebhook = async (\n  apiKey: string,\n  webhookID: string\n): Promise<boolean> => {\n  const url = `https://api.helius.xyz/v0/webhooks/${webhookID}?api-key=${apiKey}`;\n\n  const response = await fetch(url, {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"User-Agent\": SDK_USER_AGENT,\n    },\n  });\n\n  if (!response.ok) {\n    const errorText = await response.text();\n    throw new Error(`HTTP error! status: ${response.status} - ${errorText}`);\n  }\n\n  const contentLength = response.headers?.get?.(\"content-length\");\n  const noBody = response.status === 204 || contentLength === \"0\";\n\n  if (noBody) {\n    return true;\n  }\n\n  // If there *is* a body, try to read it; if it's empty/invalid, just succeed.\n  let data: any;\n  try {\n    data = await response.json();\n  } catch {\n    return true;\n  }\n\n  if (data?.error) {\n    throw new Error(`Helius error: ${JSON.stringify(data.error)}`);\n  }\n\n  return true;\n};\n"],"names":[],"mappings":";;AAEO,MAAM,aAAa,GAAG,OAC3B,MAAc,EACd,SAAiB,KACG;AACpB,IAAA,MAAM,GAAG,GAAG,CAAA,mCAAA,EAAsC,SAAS,CAAA,SAAA,EAAY,MAAM,EAAE;AAE/E,IAAA,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;AAChC,QAAA,MAAM,EAAE,QAAQ;AAChB,QAAA,OAAO,EAAE;AACP,YAAA,cAAc,EAAE,kBAAkB;AAClC,YAAA,YAAY,EAAE,cAAc;AAC7B,SAAA;AACF,KAAA,CAAC;AAEF,IAAA,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE;AAChB,QAAA,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;QACvC,MAAM,IAAI,KAAK,CAAC,CAAA,oBAAA,EAAuB,QAAQ,CAAC,MAAM,CAAA,GAAA,EAAM,SAAS,CAAA,CAAE,CAAC;IAC1E;IAEA,MAAM,aAAa,GAAG,QAAQ,CAAC,OAAO,EAAE,GAAG,GAAG,gBAAgB,CAAC;IAC/D,MAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,KAAK,GAAG,IAAI,aAAa,KAAK,GAAG;IAE/D,IAAI,MAAM,EAAE;AACV,QAAA,OAAO,IAAI;IACb;;AAGA,IAAA,IAAI,IAAS;AACb,IAAA,IAAI;AACF,QAAA,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;IAC9B;AAAE,IAAA,MAAM;AACN,QAAA,OAAO,IAAI;IACb;AAEA,IAAA,IAAI,IAAI,EAAE,KAAK,EAAE;AACf,QAAA,MAAM,IAAI,KAAK,CAAC,CAAA,cAAA,EAAiB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA,CAAE,CAAC;IAChE;AAEA,IAAA,OAAO,IAAI;AACb;;;;"}